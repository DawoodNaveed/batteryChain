{% macro render_groups(admin, form, groups, has_tab) %}
    <div class="row">
        {% for code in groups|filter(code => admin.formgroups[code] is defined) %}
            {% set form_group = admin.formgroups[code] %}
            <div class="{{ form_group.class|default('col-md-12') }}">
                <div class="{{ form_group.box_class }}">
                    <div class="box-header">
                        <h4 class="box-title">
                            {% if form_group.translation_domain is defined and form_group.translation_domain is same as(false) %}
                                {{ form_group.label }}
                            {% else %}
                                {{ form_group.label|trans({}, form_group.translation_domain ?? admin.translationDomain) }}
                            {% endif %}
                        </h4>
                    </div>
                    <div class="box-body">
                        <div class="sonata-ba-collapsed-fields">
                            {% if form_group.description %}
                                {% if form_group.translation_domain is defined and form_group.translation_domain is same as(false) %}
                                    <p>{{ form_group.description|raw }}</p>
                                {% else %}
                                    <p>{{ form_group.description|trans({}, form_group.translation_domain ?? admin.translationDomain)|raw }}</p>
                                {% endif %}
                            {% endif %}

                            {% for form_field_name in form_group.fields|filter(form_field_name => form[form_field_name] is defined) %}
                                {% if form_field_name == 'logoFile' and form.vars.value.logo is not null and form.vars.value.logo != '' %}
                                    <img style="object-fit: contain;  height: 100px;" src="{{ asset(logo_path ~ '/' ~ form.vars.value.logo) }}" width="100" height="100" alt="{{ asset(no_image_path) }}" class="manufacturer_logo">
                                {% endif %}
                                {% if form_field_name == 'logoFile' and (form.vars.value.logo is null or form.vars.value.logo == '') %}
                                    <img style="object-fit: contain;  height: 100px;" src="{{ asset(no_image_path) }}" width="100" height="100" alt="{{ 'No Image Path' | trans }}" class="manufacturer_logo">
                                {% endif %}
                                {% if form_field_name == 'co2LogoFile' and form.vars.value.co2Logo is not null and form.vars.value.co2Logo != '' %}
                                    <br>
                                    <img src="{{ asset(co2_path ~ '/' ~ form.vars.value.co2Logo) }}" width="100" height="100" alt="{{ asset(no_image_path) }}" class="manufacturer_logo">
                                {% endif %}
                                {% if form_field_name == 'co2LogoFile' and (form.vars.value.co2Logo is null or form.vars.value.co2Logo == '') %}
                                    <br>
                                    <img src="{{ asset(no_image_path) }}" width="100" height="100" alt="{{ 'No Image Path' | trans }}" class="manufacturer_logo">
                                {% endif %}
                                {% if form_field_name == 'insuranceLogoFile' and form.vars.value.insuranceLogo is not null  and form.vars.value.insuranceLogo != '' %}
                                    <br>
                                    <img src="{{ asset(insurance_path ~ '/' ~ form.vars.value.insuranceLogo) }}" width="100" height="100" alt="{{ asset(no_image_path) }}" class="manufacturer_logo">
                                {% endif %}
                                {% if form_field_name == 'insuranceLogoFile' and (form.vars.value.insuranceLogo is null or form.vars.value.insuranceLogo == '') %}
                                    <br>
                                    <img src="{{ asset(no_image_path) }}" width="100" height="100" alt="{{ 'No Image Path' | trans }}" class="manufacturer_logo">
                                {% endif %}
                                {{ form_row(form[form_field_name]) }}
                            {% else %}
                                {% if form_group.empty_message != false %}
                                    {% if form_group.empty_message_translation_domain is defined and form_group.empty_message_translation_domain is same as(false) %}
                                        <em>{{ form_group.empty_message }}</em>
                                    {% else %}
                                        <em>{{ form_group.empty_message|trans({}, form_group.empty_message_translation_domain ?? admin.translationDomain) }}</em>
                                    {% endif %}
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endmacro %}
